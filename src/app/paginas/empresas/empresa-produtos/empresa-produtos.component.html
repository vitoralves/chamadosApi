<div class="divider"></div>

<div class="row">
  <div class="col-md-10">
    <h3 class="box-title">Produtos</h3>
  </div>
  <div class="col-md-2">
    <button type="button" class="btn btn-success" style="margin-top: 20px; margin-bottom: 10px;" (click)="alterarProduto()"><i class="fa fa-fw fa-plus"></i>Adicionar Produto</button>
  </div>
</div>

<div class="alert {{alertCss}} alert-dismissible" *ngIf="mensagem">
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
  <h4><i class="icon fa {{icon}}"></i> {{titulo}}</h4>
  {{texto}}
</div>

<table class="table">
  <tr>
    <th>ID</th>
    <th>Produto</th>
    <th>Ativo</th>
    <th></th>
  </tr>
  <!--linha de adição de novo item-->
  <tr>
    <td *ngIf="alterar" ></td>
    <td *ngIf="alterar">
      <select name="produto" [(ngModel)]="empresaProduto.produto" class="form-control select2" style="width: 100%;">
        <option *ngFor="let prod of listProdutos" [hidden]="!prod.ativo" [ngValue]="prod.id" ngDefaultControl>{{prod.nome}}</option>
      </select>
    </td>
    <td *ngIf="alterar">
      <div class="form-group checkbox checkbox-primary">
        <div class="form-group checkbox checkbox-primary">
          <input id="checkbox" type="checkbox" class="form-control" name="ativo" [(ngModel)]="empresaProduto.ativo" ngDefaultControl>
          <label for="checkbox" class="control-label"></label>
        </div>
      </div>
    </td>
    <td *ngIf="alterar">
      <button type="button" class="btn btn-primary" (click)="salvarProduto()"><i class="fa fa-fw fa-save"></i></button>
      <button type="button" class="btn btn-danger" (click)="cancelarSalvar()"><i class="fa fa-fw fa-close"></i></button>
    </td>
  </tr>

  <!--exibição de produtos cadastrados-->
  <tr *ngFor="let item of listProdutosPorEmpresa">
    <td>{{item.id}}</td>
    <td >{{item.nome}}</td>
    <td>
      <i class="fa fa-fw fa-check" *ngIf="item.ativo"></i>
      <i class="fa fa-fw fa-close" *ngIf="!item.ativo"></i>
    </td>
    <td>
      <button type="button" class="btn btn-danger" (click)="deletar(item.id)" ngDefaultControl><i class="fa fa-fw fa-trash"></i></button>      
    </td>
  </tr>
</table>